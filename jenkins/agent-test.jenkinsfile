properties([
    parameters([
        booleanParam(name: 'rendering', defaultValue: false, description: '是否要渲染页面'),
        string(name: 'git_branch', defaultValue: 'master', description: '请输入代码分支', trim: true),
        string(name: 'git_tag', defaultValue: '', description: '请输入代码TAG', trim: true),
        string(name: 'image', defaultValue: '', description: '请输入完整的镜像地址', trim: true),
        hidden(name: 'project_name', defaultValue: 'go-starter', description: '隐藏参数不给修改'),
        extendedChoice(
            name: 'hosts', 
            type: 'PT_CHECKBOX', 
            value: '192.168.110.8,192.168.110.171,192.168.110.172', 
            description: '请选择主机',
            multiSelectDelimiter: ','
        ),
        string(name: 'docker_run', defaultValue: 'docker run -d -p 9006:8080 --restart=always', description: '请输入Docker运行命令', trim: true),
    ])
])
pipeline {
    // 在指定标签的节点上运行
    agent { label 'node-192.168.110.135-yuyang' }
    stages {
        stage('Print String Param') {
            when {
              expression { params.rendering == false }
            }
            steps {
                echo "String 参数值为: ${params.MY_STRING}"
                sh "ifconfig"
                sh "hostname"
            }
        } 
    }
}